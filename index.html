<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Orbitron&display=swap" rel="stylesheet">
  <meta name="title" content="L2H Anitrest - Anime Image Gallery">
<meta name="description" content="Explore a vast collection of high-quality anime images at L2H Anitrest. Discover and download your favorite anime artwork with ease.">
<meta name="keywords" content="Anime images, Anime gallery, High-quality anime, Anime artwork, L2H Anitrest">
<meta name="author" content="L2H Anitrest">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="robots" content="index, follow">
<meta property="og:title" content="L2H Anitrest - Anime Image Gallery">
<meta property="og:description" content="Explore a vast collection of high-quality anime images at L2H Anitrest. Discover and download your favorite anime artwork with ease.">
<meta property="og:image" content="https://anuragl2h.github.io/L2h-anitrest/your-image-url.jpg">
<meta property="og:url" content="https://anuragl2h.github.io/L2h-anitrest/index.html">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="L2H Anitrest - Anime Image Gallery">
<meta name="twitter:description" content="Explore a vast collection of high-quality anime images at L2H Anitrest. Discover and download your favorite anime artwork with ease.">
<meta name="twitter:image" content="https://anuragl2h.github.io/L2h-anitrest/https://i.postimg.cc/SKTscndb/d5ac5a8f-1b10-4552-be76-7972347cdee3.jpg">
  <title>L2H Gallery</title>
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <link rel="stylesheet" href="style.css">
  <link rel="icon" href="https://i.postimg.cc/hP5Stk2p/file-00000000f4e461f78100a436fba7c642-conversation-id-680ded85-bc58-8006-b9d3-3b69497d5863-message-i.webp" type="image">
  <style>
  h1{
    position: absolute;
    left: 50px;
    top: -3px;
  }
  body::before{
    content:"";
    position:fixed;
    top:0;
    left:0;
    width:100vw;
    height:100vh;
    background-size:200% 200%; 
    background:black;
    background-size: cover;
    background-repeat: no-repeat;
    background-position: center;
    background-attachment: fixed;
    animation: gradientMove 20s ease-in-out infinite;
    z-index:-2;
  }
  @keyframes gradientMove{
    0%{background-position:0% 50%}
    50%{background-position:100% 50%}
    100%{background-position:0% 50%}
  }
  .category-section{
    margin:40px 20px
  }
  .category-section h2{
    color:#fff;
    font-size:2rem;
    text-shadow:0 0 6px cyan;
    border-bottom:2px solid #fff;
    padding-bottom:6px;
    margin-bottom:12px
  }
  .gallery{
    display:grid;
    grid-template-columns:1fr 1fr;
    gap:12px;
  }
 .image-wrapper {
  position: relative;
  border-radius: 6px;
  overflow: visible; /* <-- Fix applied */
  transition: transform 0.3s ease;
  z-index: 100;
}
  .gallery img{
    width: 95%;
    height: 95%;
    display:block;
    object-fit:cover;
    border-radius:6px;
  }

  body,html{
    margin:0;
    padding:0;
    font-family:sans-serif
  }
  h1{
    width:200px;
    position:absolute;
    top:-10px;
    left:50px;
    font-family:'Orbitron',sans-serif;
    font-size:20px;
    color:#fff;
    text-transform:uppercase;
    text-align:center;
    padding:12px
  }
  .category-buttons{
    display:flex;
    flex-wrap:wrap;
    justify-content:center;
    gap:12px;
    margin:20px 0;
    padding:0 20px
  }
  .category-btn{
    background: rgba(136, 90, 290, 1);
    color:#fff;
    border:none;
    padding: 8px 12px;
    font-size:12px;
    border-radius: 999px;
    cursor:pointer;
    transition:transform 0.3s ease,box-shadow 0.3s ease;
    text-transform:uppercase;
    font-weight:700;
    letter-spacing:1px
  }
  .category-btn:hover{
    transform:translateY(-3px);
    box-shadow:0 5px 15px rgb(0 0 0 / .3)
  }
  .category-btn.active{
    background: blue;
    box-shadow:0 0 15px rgb(255 111 216 / .7)
  }
  .category-btn-all{
    background:#424EDC
  }
  .hidden{
    display:none
  }
  .img{
    border-radius:10px;
    height:60px;
    width:60px;
    margin:10px;
    background-color:#fff
  }
  header{
    background: linear-gradient(to left, black,#232323);
    background-size: cover;
    background-repeat: no-repeat;
    background-position: center;
    padding:10px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    position:relative;
    border-radius:8px;
    box-shadow: 0 0 10px 5px rgba(0, 255, 255, 0.7);
    margin:0.9rem;
  }
  header .img{
    height:50px;
    width:auto;
    transition: all 0.3s ease;
  }
  .hamburger{
    display:flex;
    flex-direction:column;
    cursor:pointer;
    gap:5px
  }
  .line{
    width:30px;
    height:4px;
    background-color:#fff;
    transition:all 0.3s ease
  }
  .menu{
    z-index: 100;
    display:none;
    position:absolute;
    top:60px;
    right:0;
    background:#333;
    width:150px;
    border-radius:5px;
    box-shadow:0 4px 6px rgb(0 0 0 / .1)
  }
  .menu ul{
    list-style:none;
    margin:0;
    padding:0
  }
  .menu ul li{
    padding:10px
  }
  .menu ul li a{
    color:#fff;
    text-decoration:none;
    display:block;
    text-align:center
  }
  .menu.active{
    display:block
  }
  .hamburger.active .line:nth-child(1){
    transform:rotate(45deg);
    position:relative;
    top:8px
  }
  .hamburger.active .line:nth-child(2){
    opacity:0
  }
  .hamburger.active .line:nth-child(3){
    transform:rotate(-45deg);
    position:relative;
    top:-8px
  }
  .large{
    transform: scale(1.5);
    z-index: 10;
  }
.larg {
  position: fixed; /* makes it float above everything */
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 9999; /* higher than everything else */
  max-width: 90%;
  max-height: 90%;
  box-shadow: 0 0 10px black;
}
#search-input {
  display: inline-block;
  margin-top: 20px;
  margin-left: 40px;
  padding: 12px 18px;
  width: 220px;
  max-width: 90vw;
  border-radius: 25px 0 0 25px;
  border: 2px solid blue;
  outline: none;
  font-size: 1rem;
  background: rgba(255, 255, 255, 0.90);
  box-shadow: 0 2px 8px rgba(66, 78, 220, 0.13);
  transition: box-shadow 0.2s;
}

#search-input:focus {
  box-shadow: 0 0 0 3px #424EDC55;
}

.search {
  display: inline-block;
  padding: 11px 20px;
  border-radius: 0 25px 25px 0;
  border: 1px solid blue;
  background: black;
  color: #fff;
  font-size: 17px;
  font-family: sans-serif;
  font-weight: 700;
  letter-spacing: 1px;
  cursor: pointer;
  transition: background 0.3s, box-shadow 0.2s, transform 0.1s;
  margin-left: -3.5px;
  box-shadow: 0 2px 8px rgba(66, 78, 220, 0.12);
}
.search:hover,
.search:focus {
  background: linear-gradient(90deg, #00f2fe 0%, #424EDC 100%);
  box-shadow: 0 4px 16px #00f2fe55;
  transform: translateY(-1px) scale(1.003);
}
.buy-button {
  display: block;
  color: #fff;
  padding: 12px 18px;
  text-align: center;
  transition: background-color 0.3s, transform 0.2s;
  font-weight: bold;
  font-size: 16px;
  text-decoration: none;
}

.buy-button:hover {
  background-color: #0056b3;
  transform: scale(1.05);
  box-shadow: 0 0 10px rgba(0, 123, 255, 0.6);
}
.backdrop-glass {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(15px);
  border: 2px solid rgba(255, 255, 255, 0.8);
  box-shadow: 0 0 20px rgba(0, 123, 255, 0.8), 0 0 40px rgba(0, 123, 255, 0.4);
  border-radius: 12px;
}
.donation-button {
            z-index: 10;
            background-color: #ff6f61;
            color: #fff;
            padding: 6px 12px;
            font-size: 18px;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: background 0.3s ease, transform 0.2s ease;
        }

        .donation-button:hover {
            background-color: #ff4c4c;
            transform: scale(1.05);
        }

        .donation-button:active {
            transform: scale(0.98);
        }
.dots-menu {
  position: absolute;
  top: 10px;
  right: 10px;
  font-size: 22px;
  color: white;
  border-radius: 50%;
  padding: 6px 10px;
  cursor: pointer;
  z-index: 5;
  animation-name: ro;
  animation-iteration-count: 1;
  animation-duration: 2s;
}

.image-actions {
  position: absolute;
  top: 50px;
  right: -10px;
  background: rgba(20, 20, 20, 0.9);
  border-radius: 8px;
  padding: 20px 20px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  z-index: 5;
}
.dots-menu.rotate {
  transform: rotate(90deg);
  transition: transform 0.3s ease;
}
.image-actions.hidden {
  display: none;
}

.image-actions button {
  width: 100%;
  border: none;
  padding: 8px;
  border-radius: 6px;
  font-size: 14px;
  cursor: pointer;
  font-weight: bold;
  color: #fff;
  background: #424EDC;
  transition: background 0.3s;
}

.image-actions button:hover {
  background: #2f35a0;
  .menu-download,
.menu-share {
  all: unset; /* resets all inherited weirdness */
  display: block;
  width: 100%;
  padding: 10px;
  border-radius: 6px;
  font-weight: bold;
  color: white;
  cursor: pointer;
  text-align: center;
  margin-bottom: 6px;
}

.menu-download {
  background: #4facfe;
}
.menu-share {
  background: #ff42a7;
}

.menu-download:hover {
  background: #00d4ff;
}
.menu-share:hover {
  background: #ff2eb2;
}
.dots-menu.dero{
  transform: rotate(0deg);
  transition: transform 0.3s ease-in;
}
   </style>
</head>
<body>

  <header>
    <img src="https://i.postimg.cc/hP5Stk2p/file-00000000f4e461f78100a436fba7c642-conversation-id-680ded85-bc58-8006-b9d3-3b69497d5863-message-i.webp" alt="Logo" onclick="imgClick(this)" class="img" >
    <h1>L2H image gallery</h1>
    <div class="hamburger" onclick="toggleMenu()">
      <div class="line"></div>
      <div class="line"></div>
      <div class="line"></div>
    </div>
    <nav class="menu">
      <ul>
        <li><a href="Home.html">Home</a></li>
        <li><a href="login.html"> account</a></li>
        <li><a href="about.html">About</a></li>
        <li><a href="Contact.html">Contact</a></li>
        <li> <a href="" class="buy-button backdrop-glass">Buy subscription</a></li>
        <li> <a class="donation-button"  href="" > ❤️ Donate</a></li>
      </ul>
    </nav>
  </header>
    
<div>
  <input type="text" id="search-input" placeholder="Enter Name of The Anime" list="searchsuggest">
   
  <button onclick="submitSearch()" class="search">🔍</button>

</div>
  <div id="category-buttons" class="category-buttons">
 
  </div>
  <div id="gallery-container">
    <!-- Gallery images here -->
  </div>
<a href="terms.html" style="
  position: fixed;
  bottom: 10px;
  right: 10px;
  background: #eee;
  padding: 5px 10px;
  border-radius: 5px;
  font-size: 12px;
  color: #333;
  text-decoration: none;
  z-index: 1000;
">
  Terms & Conditions
</a>
<a href="refund.html" style="
  position: fixed;
  bottom: 10px;
  left: 10px;
  background: #eee;
  padding: 5px 10px;
  border-radius: 5px;
  font-size: 12px;
  color: #333;
  text-decoration: none;
  z-index: 1000;
">
  Refund & Cancellation
</a>
  <script>
  let allSections = []; 
  const searchInput = document.querySelector('#search-input');

  // Add missing imgClick function
  function imgClick(img) {
    img.classList.toggle('large');
  }

  // Category Filtering and Search
  function filterCategory(category = 'all') { 
    document.querySelectorAll('.category-btn').forEach(btn => 
      btn.classList.toggle('active', btn.dataset.category === category)
    );
    
    allSections.forEach(section => { 
      const matchesCategory = category === 'all' || section.dataset.category === category; 
      const matchesSearch = section.textContent.toLowerCase().includes(searchInput.value.toLowerCase().trim());

      section.style.display = matchesCategory && matchesSearch ? 'block' : 'none';
      if (matchesCategory && matchesSearch) {
        setTimeout(() => {
          section.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }, 100);
      }

    }); 
  }

  // Only search when button is clicked
  function submitSearch() {
    filterCategory(document.querySelector('.category-btn.active')?.dataset.category);
  }

  // Fetching and Displaying Images 
  fetch('https://gist.githubusercontent.com/anuragl2h/040192a4fab3782df48e6b7fbc60c55e/raw/gistfile1.txt')
    .then(res => res.text())
    .then(data => setupGallery(data))
    .catch(() => showError());

  function setupGallery(data) { 
    const images = data.trim().split('\n')
      .map(line => line.split('|'))
      .filter(parts => parts.length >= 2)
      .map(([category, url]) => ({ 
        category: category.trim(), 
        url: url.trim() 
      }));
    
    const grouped = images.reduce((acc, { category, url }) => { 
      acc[category] = acc[category] || []; 
      acc[category].push(url); 
      return acc; 
    }, {});

    createCategoryButtons(grouped); 
    renderImages(grouped); 
  }

  function createCategoryButtons(grouped) { 
    const container = document.getElementById('category-buttons'); 
    if (!container) return; 
    container.innerHTML = '<button class="category-btn active" data-category="all" onclick="filterCategory()">All</button>';

    Object.keys(grouped).forEach(category => { 
      const button = document.createElement('button'); 
      button.textContent = category; 
      button.className = 'category-btn'; 
      button.dataset.category = category; 
      button.onclick = () => filterCategory(category); 
      container.appendChild(button); 
    }); 
  }

  function renderImages(grouped) { 
    const container = document.getElementById('gallery-container'); 
    if (!container) return; 
    container.innerHTML = ''; 
    allSections = [];

    Object.entries(grouped).forEach(([category, urls]) => { 
      const section = document.createElement('div'); 
      section.className = 'category-section'; 
      section.dataset.category = category; 
      
      // Fixed missing backticks
      section.innerHTML = `<h2>${category}</h2>`;

      const gallery = document.createElement('div');
      gallery.className = 'gallery';

      urls.forEach(url => gallery.appendChild(createImageWrapper(url, category)));

      section.appendChild(gallery);
      container.appendChild(section);
      allSections.push(section);
    }); 
  }

  function createImageWrapper(url, category) { 
    const wrapper = document.createElement('div'); 
    wrapper.className = 'image-wrapper';

    // Fixed missing backticks
    wrapper.innerHTML = `<img src="${url}" alt="${category}" loading="lazy" onclick="img(this)" > 
 <div class="dots-menu" onclick="toggleImageMenu(this)">&#8942;</div>
  <div class="image-actions hidden">
    <button class="menu-download" onclick="downloadImage(event, '${url}')">Save</button>
    <button class="menu-share" onclick="shareImage('${url}', '${category}')">Share</button>
  </div>`;

    return wrapper; 
  }

  function downloadImage(event, url) { 
    event.preventDefault(); 
    fetch(url)
      .then(res => res.blob())
      .then(blob => { 
        const a = document.createElement('a'); 
        a.href = URL.createObjectURL(blob); 
        a.download = url.split('/').pop(); 
        a.click(); 
      }); 
  }

  async function shareImage(url, category) { 
    if (navigator.share) { 
      try { 
        await navigator.share({ 
          title: 'Anime Image', 
          text: `Check out this image from ${category}!`, 
          url 
        }); 
      } catch (err) { 
        console.error('Sharing failed:', err); 
      } 
    } else {
      alert('Sharing not supported on this device.');
    } 
  }

  function showError() { 
    const container = document.getElementById('gallery-container'); 
    if (container) {
      container.innerHTML = '<p style="color: white; text-align: center; padding: 20px;">Error loading images. Please check the images file.</p>'; 
    }
  }

  // Toggle Menu
  function toggleMenu() { 
    const menu = document.querySelector('.menu'); 
    const hamburger = document.querySelector('.hamburger'); 
    if (menu && hamburger) { 
      menu.classList.toggle('active'); 
      hamburger.classList.toggle('active'); 
    } 
  }
  function toggleImageMenu(dotEl) {
  const menu = dotEl.nextElementSibling;
  
  // If it's already open, close it and de-rotate
  const isOpen = !menu.classList.contains('hidden');
  
  // Close all menus and de-rotate all dots
  document.querySelectorAll('.image-actions').forEach(el => el.classList.add('hidden'));
  document.querySelectorAll('.dots-menu').forEach(el => el.classList.remove('rotate'));
  
  // If it was not already open, open it and rotate the icon
  if (!isOpen) {
    menu.classList.remove('hidden');
    dotEl.classList.add('rotate');
  }
}

  function img(imgElement) {
  const popup = document.getElementById('image-popup');
  const popupImg = document.getElementById('popup-img');
  popupImg.src = imgElement.src;
  popup.style.display = 'flex';
}

function closePopup() {
  document.getElementById('image-popup').style.display = 'none';
}
  </script>
  <!-- Fullscreen Image Popup -->
<div id="image-popup" style="display:none; position:fixed; top:0; left:0; width:55vh; height:100vh; background:rgba(0,0,0,0.9); z-index:9999; justify-content:center; align-items:center;">
  <img id="popup-img" style="max-width: 90%; max-height:90%; border-radius:12px; box-shadow: 4px 4px rgba(255, 255, 255, 0.5);" onclick="closePopup()">
   <div class="dots-menu" onclick="toggleImageMenu(this)" style="top: 40px; right: 40px ; font-size: 35px;" >&#8942;</div>
  <div class="image-actions hidden" style="right: 30px; top: 90px;" >
    <button class="menu-download" onclick="downloadImage(event, '${url}')">Save</button>
    <button class="menu-share" onclick="shareImage('${url}', '${category}')">Share</button>
  </div>
</div>
</body>
</html>
