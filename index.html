<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Orbitron&display=swap" rel="stylesheet">
  <meta name="title" content="L2H Anitrest - Anime Image Gallery">
<meta name="description" content="Explore a vast collection of high-quality anime images at L2H Anitrest. Discover and download your favorite anime artwork with ease.">
<meta name="keywords" content="Anime images, Anime gallery, High-quality anime, Anime artwork, L2H Anitrest">
<meta name="author" content="L2H Anitrest">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="robots" content="index, follow">
<meta property="og:title" content="L2H Anitrest - Anime Image Gallery">
<meta property="og:description" content="Explore a vast collection of high-quality anime images at L2H Anitrest. Discover and download your favorite anime artwork with ease.">
<meta property="og:image" content="https://anuragl2h.github.io/L2h-anitrest/your-image-url.jpg">
<meta property="og:url" content="https://anuragl2h.github.io/L2h-anitrest/index.html">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="L2H Anitrest - Anime Image Gallery">
<meta name="twitter:description" content="Explore a vast collection of high-quality anime images at L2H Anitrest. Discover and download your favorite anime artwork with ease.">
<meta name="twitter:image" content="https://anuragl2h.github.io/L2h-anitrest/https://i.postimg.cc/SKTscndb/d5ac5a8f-1b10-4552-be76-7972347cdee3.jpg">
  <title>L2H Gallery</title>
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <link rel="stylesheet" href="style.css">
  <link rel="icon" href="https://i.postimg.cc/hP5Stk2p/file-00000000f4e461f78100a436fba7c642-conversation-id-680ded85-bc58-8006-b9d3-3b69497d5863-message-i.webp" type="image">
  <style>
  h1{
    position: absolute;
    left: 50px;
    top: -3px;
  }
  body::before{
    content:"";
    position:fixed;
    top:0;
    left:0;
    width:100vw;
    height:100vh;
    background-size:200% 200%; 
    background-image: url('https://i.postimg.cc/C5wjdBxT/Webppro-out-2c5e89dfdfa0243633d788bada202ce7.webp');
    background-size: cover;
    background-repeat: no-repeat;
    background-position: center;
    background-attachment: fixed;
    animation: gradientMove 20s ease-in-out infinite;
    z-index:-2;
  }
  @keyframes gradientMove{
    0%{background-position:0% 50%}
    50%{background-position:100% 50%}
    100%{background-position:0% 50%}
  }
  .category-section{
    margin:40px 20px
  }
  .category-section h2{
    color:#fff;
    font-size:2rem;
    text-shadow:0 0 6px cyan;
    border-bottom:2px solid #fff;
    padding-bottom:6px;
    margin-bottom:12px
  }
  .gallery{
    display:grid;
    grid-template-columns:1fr 1fr;
    gap:12px
  }
  .image-wrapper{
    position:relative;
    border-radius:6px;
    overflow:hidden;
    transition:transform 0.3s ease
  }
  .gallery img{
    width:100%;
    height:100%;
    display:block;
    object-fit:cover;
    border-radius:6px
  }
  .download-btn{
    text-align:center;
    position:absolute;
    bottom:10px;
    right:10px;
    background:linear-gradient(135deg,#00f2fe,#4facfe);
    backdrop-filter:blur(6px);
    border:none;
    color:#fff;
    padding:8px;
    font-size:14px;
    border-radius:4px;
    cursor:pointer;
    text-decoration:none;
    white-space:nowrap;
    transition:background 0.3s ease,box-shadow 0.3s ease
  }
  .download-btn:hover{
    background:#00d4ff;
    box-shadow:0 0 12px #00f2fe
  }
  .shareBtn{
    text-align:center;
    position:absolute;
    top:20px;
    left:20px;
    background:linear-gradient(135deg,#ff6fd8,#ff42a7);
    backdrop-filter:blur(6px);
    border:none;
    color:#fff;
    padding:8px 14px;
    font-size:14px;
    border-radius:4px;
    cursor:pointer;
    white-space:nowrap;
    transition:background 0.3s ease,box-shadow 0.3s ease
  }
  .shareBtn:hover{
    background:#ff2eb2;
    box-shadow:0 0 12px #ff6fd8
  }
  body,html{
    margin:0;
    padding:0;
    font-family:sans-serif
  }
  h1{
    width:200px;
    position:absolute;
    top:-10px;
    left:40px;
    font-family:'Orbitron',sans-serif;
    font-size:20px;
    color:#fff;
    text-transform:uppercase;
    text-align:center;
    padding:12px
  }
  .category-buttons{
    display:flex;
    flex-wrap:wrap;
    justify-content:center;
    gap:12px;
    margin:20px 0;
    padding:0 20px
  }
  .category-btn{
    background:#424EDC;
    color:#fff;
    border:none;
    padding: 12px 20px;
    font-size:16px;
    border-radius: 20px;
    cursor:pointer;
    transition:transform 0.3s ease,box-shadow 0.3s ease;
    text-transform:uppercase;
    font-weight:700;
    letter-spacing:1px
  }
  .category-btn:hover{
    transform:translateY(-3px);
    box-shadow:0 5px 15px rgb(0 0 0 / .3)
  }
  .category-btn.active{
    background: blue;
    box-shadow:0 0 15px rgb(255 111 216 / .7)
  }
  .category-btn-all{
    background:#424EDC
  }
  .hidden{
    display:none
  }
  img{
    border-radius:10px;
    height:60px;
    width:60px;
    margin:10px;
    background-color:#fff
  }
  header{
    background: url('https://i.postimg.cc/gjcZmCgG/Webppro-out-265c782b13dafd414a53ac51d3ceb8cb.webp');
    background-size: cover;
    background-repeat: no-repeat;
    background-position: center;
    padding:10px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    position:relative;
    border-radius:8px;
    box-shadow: 0 0 10px 5px rgba(0, 255, 255, 0.7);
    margin:0.9rem;
  }
  header img{
    height:50px;
    width:auto;
    transition: all 0.3s ease;
  }
  .hamburger{
    display:flex;
    flex-direction:column;
    cursor:pointer;
    gap:5px
  }
  .line{
    width:30px;
    height:4px;
    background-color:#fff;
    transition:all 0.3s ease
  }
  .menu{
    display:none;
    position:absolute;
    top:60px;
    right:0;
    background:#333;
    width:150px;
    border-radius:5px;
    box-shadow:0 4px 6px rgb(0 0 0 / .1)
  }
  .menu ul{
    list-style:none;
    margin:0;
    padding:0
  }
  .menu ul li{
    padding:10px
  }
  .menu ul li a{
    color:#fff;
    text-decoration:none;
    display:block;
    text-align:center
  }
  .menu.active{
    display:block
  }
  .hamburger.active .line:nth-child(1){
    transform:rotate(45deg);
    position:relative;
    top:8px
  }
  .hamburger.active .line:nth-child(2){
    opacity:0
  }
  .hamburger.active .line:nth-child(3){
    transform:rotate(-45deg);
    position:relative;
    top:-8px
  }
  .large{
    position: relative;
    z-index: 10;
    height: 200px;
  }
#search-input {
  display: inline-block;
  margin-top: 20px;
  margin-left: 40px;
  padding: 12px 18px;
  width: 220px;
  max-width: 90vw;
  border-radius: 25px 0 0 25px;
  border: none;
  outline: none;
  font-size: 1rem;
  background: rgba(255, 255, 255, 0.90);
  box-shadow: 0 2px 8px rgba(66, 78, 220, 0.13);
  transition: box-shadow 0.2s;
}

#search-input:focus {
  box-shadow: 0 0 0 3px #424EDC55;
}

button {
  display: inline-block;
  padding: 11px 20px;
  border-radius: 0 25px 25px 0;
  border: none;
  background: black;
  color: #fff;
  font-size: 17px;
  font-family: sans-serif;
  font-weight: 700;
  letter-spacing: 1px;
  cursor: pointer;
  transition: background 0.3s, box-shadow 0.2s, transform 0.1s;
  margin-left: -3.5px;
  box-shadow: 0 2px 8px rgba(66, 78, 220, 0.12);
}

button:hover,
button:focus {
  background: linear-gradient(90deg, #00f2fe 0%, #424EDC 100%);
  box-shadow: 0 4px 16px #00f2fe55;
  transform: translateY(-1px) scale(1.003);
}
  </style>
</head>
<body>

  <header>
    <img src="https://i.postimg.cc/hP5Stk2p/file-00000000f4e461f78100a436fba7c642-conversation-id-680ded85-bc58-8006-b9d3-3b69497d5863-message-i.webp" alt="Logo" onclick="imgClick(this)">
    <h1>L2H image gallery</h1>
    <div class="hamburger" onclick="toggleMenu()">
      <div class="line"></div>
      <div class="line"></div>
      <div class="line"></div>
    </div>
    <nav class="menu">
      <ul>
        <li><a href="Home.html">Home</a></li>
        <li><a href="login.html">‚ûï account</a></li>
        <li><a href="about.html">About</a></li>
        <li><a href="Contact.html">Contact</a></li>
      </ul>
    </nav>
  </header>
<div>
  <input type="text" id="search-input" placeholder="Enter Name of The Anime">
  <button onclick="submitSearch()">üîç </button>
</div>
  <div id="category-buttons" class="category-buttons">
 
  </div>
  <div id="gallery-container">
    <!-- Gallery images here -->
  </div>

  <script>
  let allSections = []; 
  const searchInput = document.querySelector('#search-input');

  // Add missing imgClick function
  function imgClick(img) {
    img.classList.toggle('large');
  }

  // Category Filtering and Search
  function filterCategory(category = 'all') { 
    document.querySelectorAll('.category-btn').forEach(btn => 
      btn.classList.toggle('active', btn.dataset.category === category)
    );
    
    allSections.forEach(section => { 
      const matchesCategory = category === 'all' || section.dataset.category === category; 
      const matchesSearch = section.textContent.toLowerCase().includes(searchInput.value.toLowerCase().trim());

      section.style.display = matchesCategory && matchesSearch ? 'block' : 'none';
      if (matchesCategory && matchesSearch) {
        setTimeout(() => {
          section.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }, 100);
      }

    }); 
  }

  // Only search when button is clicked
  function submitSearch() {
    filterCategory(document.querySelector('.category-btn.active')?.dataset.category);
  }

  // Fetching and Displaying Images 
  fetch('https://gist.githubusercontent.com/anuragl2h/040192a4fab3782df48e6b7fbc60c55e/raw/gistfile1.txt')
    .then(res => res.text())
    .then(data => setupGallery(data))
    .catch(() => showError());

  function setupGallery(data) { 
    const images = data.trim().split('\n')
      .map(line => line.split('|'))
      .filter(parts => parts.length >= 2)
      .map(([category, url]) => ({ 
        category: category.trim(), 
        url: url.trim() 
      }));
    
    const grouped = images.reduce((acc, { category, url }) => { 
      acc[category] = acc[category] || []; 
      acc[category].push(url); 
      return acc; 
    }, {});

    createCategoryButtons(grouped); 
    renderImages(grouped); 
  }

  function createCategoryButtons(grouped) { 
    const container = document.getElementById('category-buttons'); 
    if (!container) return; 
    container.innerHTML = '<button class="category-btn active" data-category="all" onclick="filterCategory()">All</button>';

    Object.keys(grouped).forEach(category => { 
      const button = document.createElement('button'); 
      button.textContent = category; 
      button.className = 'category-btn'; 
      button.dataset.category = category; 
      button.onclick = () => filterCategory(category); 
      container.appendChild(button); 
    }); 
  }

  function renderImages(grouped) { 
    const container = document.getElementById('gallery-container'); 
    if (!container) return; 
    container.innerHTML = ''; 
    allSections = [];

    Object.entries(grouped).forEach(([category, urls]) => { 
      const section = document.createElement('div'); 
      section.className = 'category-section'; 
      section.dataset.category = category; 
      
      // Fixed missing backticks
      section.innerHTML = `<h2>${category}</h2>`;

      const gallery = document.createElement('div');
      gallery.className = 'gallery';

      urls.forEach(url => gallery.appendChild(createImageWrapper(url, category)));

      section.appendChild(gallery);
      container.appendChild(section);
      allSections.push(section);
    }); 
  }

  function createImageWrapper(url, category) { 
    const wrapper = document.createElement('div'); 
    wrapper.className = 'image-wrapper';

    // Fixed missing backticks
    wrapper.innerHTML = `<img src="${url}" alt="${category}" loading="lazy"> 
      <a href="#" class="download-btn" onclick="downloadImage(event, '${url}')">‚¨áÔ∏è Save it</a> 
      <button class="shareBtn" onclick="shareImage('${url}', '${category}')">‚ÜóÔ∏è Share</button>`;

    return wrapper; 
  }

  function downloadImage(event, url) { 
    event.preventDefault(); 
    fetch(url)
      .then(res => res.blob())
      .then(blob => { 
        const a = document.createElement('a'); 
        a.href = URL.createObjectURL(blob); 
        a.download = url.split('/').pop(); 
        a.click(); 
      }); 
  }

  async function shareImage(url, category) { 
    if (navigator.share) { 
      try { 
        await navigator.share({ 
          title: 'Anime Image', 
          text: `Check out this image from ${category}!`, 
          url 
        }); 
      } catch (err) { 
        console.error('Sharing failed:', err); 
      } 
    } else {
      alert('Sharing not supported on this device.');
    } 
  }

  function showError() { 
    const container = document.getElementById('gallery-container'); 
    if (container) {
      container.innerHTML = '<p style="color: white; text-align: center; padding: 20px;">Error loading images. Please check the images file.</p>'; 
    }
  }

  // Toggle Menu
  function toggleMenu() { 
    const menu = document.querySelector('.menu'); 
    const hamburger = document.querySelector('.hamburger'); 
    if (menu && hamburger) { 
      menu.classList.toggle('active'); 
      hamburger.classList.toggle('active'); 
    } 
  }
  </script>
</body>
</html>
